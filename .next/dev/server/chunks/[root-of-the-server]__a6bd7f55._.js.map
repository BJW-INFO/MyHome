{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/A0_Win_NoteBook/Documents/MyHome/app/api/props.tsx"],"sourcesContent":["import dayjs from \"dayjs\";\r\nimport duration from 'dayjs/plugin/duration';\r\nimport utc from 'dayjs/plugin/utc';\r\nimport timezone from 'dayjs/plugin/timezone';\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\ndayjs.extend(duration);\r\ndayjs.extend(utc);\r\ndayjs.extend(timezone);\r\n\r\n/**\r\n * 비밀번호 유효 여부\r\n * @param pw password input\r\n * @returns password validity\r\n */\r\nexport const isPassword = (pw: string) => {\r\n    return process.env.WEB_PASS_KEY === pw;\r\n}\r\n\r\n/** 슈퍼베이스 연결 */\r\nexport const supabase = createClient(\r\n    process.env.SUPABASE_API_BASE as string,\r\n    process.env.SUPABASE_API_KEY as string\r\n)\r\n\r\nexport const getCategories = async (type: string, name: string) => {\r\n    let result = 0;\r\n    try {\r\n        const { data, error }: any = await supabase\r\n            .from('categories')\r\n            .select('id')\r\n            .eq('type', type.toUpperCase()).eq('name', name.toUpperCase())\r\n            .single();\r\n        if (error) { throw error; } else { result = data.id; }\r\n    }\r\n    catch (error) { console.error(`getCategroies error:`, error); }\r\n    finally { return result === 0 ? undefined : result }\r\n}\r\nexport function scheduler(category: number, callback?: any): Promise<void>;\r\nexport function scheduler(options: { type: string, name: string }, callback?: any): Promise<void>;\r\nexport async function scheduler(option: number | { type: string, name: string }, callback?: any): Promise<void> {\r\n    const todayAt = dayjs().tz('Asia/Seoul');\r\n    let category: number | undefined = 0;\r\n    try {\r\n        if (typeof option === 'number') { category = option; }\r\n        else if (typeof option === 'object' && option !== null) {\r\n            const type = option.type || ``;\r\n            const name = option.name || ``;\r\n\r\n            if (type.length || name.length) {\r\n                throw new Error(`options={type,name} to null`);\r\n            }\r\n            category = await getCategories(type, name);\r\n            if (category === undefined) {\r\n                throw new Error(`not find categories`);\r\n            }\r\n        }\r\n        const { data, error }: any = await supabase\r\n            .from(`schedulers`)\r\n            .select(`*`)\r\n            .eq(`category`, category)\r\n        console.log(data);\r\n    }\r\n    catch (error) { console.error(`scheduler error:`, error); }\r\n}"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,kJAAK,CAAC,MAAM,CAAC,wJAAQ;AACrB,kJAAK,CAAC,MAAM,CAAC,mJAAG;AAChB,kJAAK,CAAC,MAAM,CAAC,wJAAQ;AAOd,MAAM,aAAa,CAAC;IACvB,OAAO,QAAQ,GAAG,CAAC,YAAY,KAAK;AACxC;AAGO,MAAM,WAAW,IAAA,yLAAY,EAChC,QAAQ,GAAG,CAAC,iBAAiB,EAC7B,QAAQ,GAAG,CAAC,gBAAgB;AAGzB,MAAM,gBAAgB,OAAO,MAAc;IAC9C,IAAI,SAAS;IACb,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAQ,MAAM,SAC9B,IAAI,CAAC,cACL,MAAM,CAAC,MACP,EAAE,CAAC,QAAQ,KAAK,WAAW,IAAI,EAAE,CAAC,QAAQ,KAAK,WAAW,IAC1D,MAAM;QACX,IAAI,OAAO;YAAE,MAAM;QAAO,OAAO;YAAE,SAAS,KAAK,EAAE;QAAE;IACzD,EACA,OAAO,OAAO;QAAE,QAAQ,KAAK,CAAC,CAAC,oBAAoB,CAAC,EAAE;IAAQ,SACtD;QAAE,OAAO,WAAW,IAAI,YAAY;IAAO;AACvD;AAGO,eAAe,UAAU,MAA+C,EAAE,QAAc;IAC3F,MAAM,UAAU,IAAA,kJAAK,IAAG,EAAE,CAAC;IAC3B,IAAI,WAA+B;IACnC,IAAI;QACA,IAAI,OAAO,WAAW,UAAU;YAAE,WAAW;QAAQ,OAChD,IAAI,OAAO,WAAW,YAAY,WAAW,MAAM;YACpD,MAAM,OAAO,OAAO,IAAI,IAAI,EAAE;YAC9B,MAAM,OAAO,OAAO,IAAI,IAAI,EAAE;YAE9B,IAAI,KAAK,MAAM,IAAI,KAAK,MAAM,EAAE;gBAC5B,MAAM,IAAI,MAAM,CAAC,2BAA2B,CAAC;YACjD;YACA,WAAW,MAAM,cAAc,MAAM;YACrC,IAAI,aAAa,WAAW;gBACxB,MAAM,IAAI,MAAM,CAAC,mBAAmB,CAAC;YACzC;QACJ;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAQ,MAAM,SAC9B,IAAI,CAAC,CAAC,UAAU,CAAC,EACjB,MAAM,CAAC,CAAC,CAAC,CAAC,EACV,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE;QACpB,QAAQ,GAAG,CAAC;IAChB,EACA,OAAO,OAAO;QAAE,QAAQ,KAAK,CAAC,CAAC,gBAAgB,CAAC,EAAE;IAAQ;AAC9D"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/A0_Win_NoteBook/Documents/MyHome/app/api/route.tsx"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { isPassword } from './props';\r\n\r\n/** Login(Password) 확인 */\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const { password } = await request.json();\r\n        if (!password) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Password Undefined' },\r\n                { status: 400 }\r\n            );\r\n        }\r\n        if (!isPassword(password)) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Password Does Not Match' },\r\n                { status: 401 }\r\n            );\r\n        }\r\n        else {\r\n            return NextResponse.json(\r\n                { success: true, message: 'success' },\r\n                { status: 200 }\r\n            );\r\n        }\r\n    }\r\n    catch (error) {\r\n        console.error('Unexpected Error Occurred During API Execution:', error);\r\n        return NextResponse.json(\r\n            { success: false, message: 'Server Internal Error Occurred' },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QACvC,IAAI,CAAC,UAAU;YACX,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,SAAS;gBAAO,SAAS;YAAqB,GAChD;gBAAE,QAAQ;YAAI;QAEtB;QACA,IAAI,CAAC,IAAA,oIAAU,EAAC,WAAW;YACvB,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,SAAS;gBAAO,SAAS;YAA0B,GACrD;gBAAE,QAAQ;YAAI;QAEtB,OACK;YACD,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,SAAS;gBAAM,SAAS;YAAU,GACpC;gBAAE,QAAQ;YAAI;QAEtB;IACJ,EACA,OAAO,OAAO;QACV,QAAQ,KAAK,CAAC,mDAAmD;QACjE,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,SAAS;YAAO,SAAS;QAAiC,GAC5D;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}