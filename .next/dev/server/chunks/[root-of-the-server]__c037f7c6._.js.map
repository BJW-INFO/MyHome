{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/A0_Win_NoteBook/Documents/MyHome/app/api/props.tsx"],"sourcesContent":["/**\r\n * 비밀번호 유효 여부\r\n * @param pw password input\r\n * @returns password validity\r\n */\r\nexport const isPassword = (pw: string) => {\r\n    return process.env.WEB_PASS_KEY === pw;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AACM,MAAM,aAAa,CAAC;IACvB,OAAO,QAAQ,GAAG,CAAC,YAAY,KAAK;AACxC"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/A0_Win_NoteBook/Documents/MyHome/app/api/loa/route.tsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const lostArkApi = {\r\n    event: async () => {\r\n        try {\r\n            const response = await axios.get(\r\n                `${process.env.LOSTARK_API_BASE}/news/events`,\r\n                {\r\n                    headers: {\r\n                        Accept: \"application/json\",\r\n                        Authorization: `bearer ${process.env.LOSTARK_API_KEY}`,\r\n                    },\r\n                }\r\n            );\r\n            return response.data;\r\n        }\r\n        catch (error: any) { console.error(\"LostArk API Error:\", error.response?.data || error.message); }\r\n    }\r\n} "],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,aAAa;IACtB,OAAO;QACH,IAAI;YACA,MAAM,WAAW,MAAM,kJAAK,CAAC,GAAG,CAC5B,GAAG,QAAQ,GAAG,CAAC,gBAAgB,CAAC,YAAY,CAAC,EAC7C;gBACI,SAAS;oBACL,QAAQ;oBACR,eAAe,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,eAAe,EAAE;gBAC1D;YACJ;YAEJ,OAAO,SAAS,IAAI;QACxB,EACA,OAAO,OAAY;YAAE,QAAQ,KAAK,CAAC,sBAAsB,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;QAAG;IACrG;AACJ"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/A0_Win_NoteBook/Documents/MyHome/app/api/loa/event/route.tsx"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { isPassword } from \"@api/props\";\r\nimport { lostArkApi } from \"../route\";\r\n\r\nexport const eventPatten = async (event:any): Promise<any> => {\r\n    console.log(event);\r\n\r\n}\r\n\r\nexport async function GET(req: NextRequest) {\r\n    const password = req.headers.get(\"X-User-Password\");\r\n    if (password === null || !isPassword(password as string)) {\r\n        return NextResponse.json(\r\n            { ok: false, message: \"Unauthorized Request\" },\r\n            { status: 401 }\r\n        );\r\n    }\r\n    try {\r\n        const events = await lostArkApi.event();\r\n        const response = await eventPatten(events);\r\n\r\n        return NextResponse.json({ ok: true, });\r\n    }\r\n    catch(error:any) { \r\n        return NextResponse.json({ ok: false, });\r\n    }\r\n}\r\n\r\n// import { initResponseProp, ResponseProp, supabase } from \"app/api/props\";\r\n// import { LOSTARK_API_BASE, LOSTARK_API_KEY } from \"../props\";\r\n// import dayjs from 'dayjs';\r\n// import utc from 'dayjs/plugin/utc';\r\n// import timezone from 'dayjs/plugin/timezone';\r\n\r\n\r\n// // 자신의 아이디 기억어떻게함? \r\n// // 스케줄 etc에 넣어서 기억하는건 되는데 각이벤트들이 기억 어떻게함?\r\n// // 문제가 고유번호가 없음 \r\n\r\n// dayjs.extend(utc);\r\n// dayjs.extend(timezone);\r\n\r\n// const newsApi = async (options: RequestInit = {}) => {\r\n//     if (!LOSTARK_API_KEY) return new Response(`Lost Ark Api key undefine`, { status: 500 });\r\n//     const url = `${LOSTARK_API_BASE}/news/events`;\r\n//     const option: RequestInit = {\r\n//         ...options,\r\n//         headers: {\r\n//             'Accept': 'application/json',\r\n//             'Authorization': `bearer ${LOSTARK_API_KEY}`,\r\n//             ...options.headers,\r\n//         },\r\n//     };\r\n//     const response = await fetch(url, option);\r\n//     if (!response.ok) {\r\n//         const errorBody = await response.text();\r\n//         throw new Error(`lostArk contentsApi Error: ${response.status} - ${response.statusText}. Body: ${errorBody}`);\r\n//     }\r\n//     return response;\r\n// };\r\n\r\n// const getNews = async (): Promise<ResponseProp> => {\r\n//     let result = JSON.parse(JSON.stringify({\r\n//         ...initResponseProp,\r\n//         name: \"event\",\r\n//         link: `https://lostark.game.onstove.com/News/Event/Now`,\r\n//         isUndefine: true,\r\n//     }));\r\n//     const getApi = await newsApi({ method: 'GET', });\r\n//     const newsTable = await getApi.json();\r\n//     const { data: category, error: errorCategory }: any = await supabase.from('categories').select('id').eq('type', 'LOA').in('name',['EVENT_DAILY','EVENT_WEEK']);\r\n//     if (errorCategory) {\r\n//         console.error(`getNews to category error:`, errorCategory);\r\n//         throw errorCategory;\r\n//     }\r\n\r\n//     // 스케줄러 하면 유저데이터를 들고온다.. \r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n//     for (const news of newsTable) {\r\n//         result.subContents.push({\r\n//             ...initResponseProp,\r\n//             name: news.Title,\r\n//             img: news.Thumbnail,\r\n//             link: news.Link,\r\n//             etc: {\r\n//                 startAt: news.StartDate,\r\n//                 endAt: news.EndDate,\r\n//                 rewardAt: news.RewardDate,\r\n//                 updateWeek: 7,\r\n//                 updateAt: 6,\r\n//             }\r\n//         })\r\n//     }\r\n\r\n//     return result;\r\n// }\r\n\r\n// export async function GET(request: Request) {\r\n//     try {\r\n//         const result: ResponseProp = await getNews();\r\n//         return new Response(JSON.stringify(result), {\r\n//             status: 200,\r\n//             headers: { 'Content-Type': 'application/json' }\r\n//         });\r\n//     }\r\n//     catch (error) {\r\n//         console.error('API execution error:', error);\r\n//         const errorMessage = error instanceof Error ? error.message : 'Unknown error';\r\n//         return new Response(`Internal Server Error: ${errorMessage}`, { status: 500 });\r\n//     }\r\n// }"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,MAAM,cAAc,OAAO;IAC9B,QAAQ,GAAG,CAAC;AAEhB;AAEO,eAAe,IAAI,GAAgB;IACtC,MAAM,WAAW,IAAI,OAAO,CAAC,GAAG,CAAC;IACjC,IAAI,aAAa,QAAQ,CAAC,IAAA,oIAAU,EAAC,WAAqB;QACtD,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,IAAI;YAAO,SAAS;QAAuB,GAC7C;YAAE,QAAQ;QAAI;IAEtB;IACA,IAAI;QACA,MAAM,SAAS,MAAM,2IAAU,CAAC,KAAK;QACrC,MAAM,WAAW,MAAM,YAAY;QAEnC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAM;IACzC,EACA,OAAM,OAAW;QACb,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAO;IAC1C;AACJ,EAEA,4EAA4E;CAC5E,gEAAgE;CAChE,6BAA6B;CAC7B,sCAAsC;CACtC,gDAAgD;CAGhD,sBAAsB;CACtB,4CAA4C;CAC5C,mBAAmB;CAEnB,qBAAqB;CACrB,0BAA0B;CAE1B,yDAAyD;CACzD,+FAA+F;CAC/F,qDAAqD;CACrD,oCAAoC;CACpC,sBAAsB;CACtB,qBAAqB;CACrB,4CAA4C;CAC5C,4DAA4D;CAC5D,kCAAkC;CAClC,aAAa;CACb,SAAS;CACT,iDAAiD;CACjD,0BAA0B;CAC1B,mDAAmD;CACnD,yHAAyH;CACzH,QAAQ;CACR,uBAAuB;CACvB,KAAK;CAEL,uDAAuD;CACvD,+CAA+C;CAC/C,+BAA+B;CAC/B,yBAAyB;CACzB,mEAAmE;CACnE,4BAA4B;CAC5B,WAAW;CACX,wDAAwD;CACxD,6CAA6C;CAC7C,sKAAsK;CACtK,2BAA2B;CAC3B,sEAAsE;CACtE,+BAA+B;CAC/B,QAAQ;CAER,gCAAgC;CAQhC,sCAAsC;CACtC,oCAAoC;CACpC,mCAAmC;CACnC,gCAAgC;CAChC,mCAAmC;CACnC,+BAA+B;CAC/B,qBAAqB;CACrB,2CAA2C;CAC3C,uCAAuC;CACvC,6CAA6C;CAC7C,iCAAiC;CACjC,+BAA+B;CAC/B,gBAAgB;CAChB,aAAa;CACb,QAAQ;CAER,qBAAqB;CACrB,IAAI;CAEJ,gDAAgD;CAChD,YAAY;CACZ,wDAAwD;CACxD,wDAAwD;CACxD,2BAA2B;CAC3B,8DAA8D;CAC9D,cAAc;CACd,QAAQ;CACR,sBAAsB;CACtB,wDAAwD;CACxD,yFAAyF;CACzF,0FAA0F;CAC1F,QAAQ;CACR,IAAI"}}]
}